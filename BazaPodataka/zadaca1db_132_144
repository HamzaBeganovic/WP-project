CREATE SCHEMA `zadaca1_132_144`;
USE `zadaca1_132_144`;

CREATE TABLE korisnik
(
	id INT PRIMARY KEY AUTO_INCREMENT,
    username NVARCHAR(50) UNIQUE NOT NULL,
    address NVARCHAR(100) NOT NULL,
    password NVARCHAR(100) NOT NULL,
    role SMALLINT NOT NULL
);

INSERT INTO korisnik (username, address, password, role) VALUE ('admin', 'zenica', 'admin', 1);

SELECT * FROM korisnik;

 
Create table Proizvod
(
	id INT PRIMARY KEY AUTO_INCREMENT,
    naziv NVARCHAR(50) NOT NULL,
    opis text NOT NULL,
    cijena float,
	slika BLOB null
);

Select*
From Proizvod;

Create table Narudzba
(
	id INT PRIMARY KEY AUTO_INCREMENT,
    datum_narudzbe date  DEFAULT (CURDATE()) not null,
    total_cijena float not null,
    status int not null,
    user_id int,
    Constraint fk_korisnik_narudzba foreign key(user_id) references korisnik(id)
);
Select*
From Narudzba;

Create table Narudzba_Proizvodi
(
	Narudzba_Proizvodi_id INT PRIMARY KEY AUTO_INCREMENT,
    narudzba_id int,
    proizvod_id int,
    Constraint fk_narudzbaID foreign key(narudzba_id) references Narudzba(id),
	Constraint fk_proizvodID foreign key(proizvod_id) references Proizvod(id)
);




